webpackJsonp([1],{"8jEZ":function(t,s){},"9Yhi":function(t,s){},"9n10":function(t,s){},FbsF:function(t,s){},M6Sr:function(t,s){},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("xd7I"),i={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]};var n=e("C7Lr")({name:"App"},i,!1,function(t){e("FbsF")},null,null).exports,r=e("usm0"),o={name:"MerchantInfo",props:["seller"],data:function(){return{closeMI:!1}},methods:{closeM:function(){this.$emit("closeMI",this.closeMI)}},watch:{},computed:{itemStarsClass:function(){for(var t=[],s=Math.floor(2*this.seller.score)/2,e=s%1!=0,a=Math.floor(s),i=0;i<a;i++)t.push("star-on");for(e&&t.push("star-half");t.length<5;)t.push("star-off");return t}}},c={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"merchant-info"},[e("p",{staticClass:"merchant-info-title"},[t._v("\n    "+t._s(t.seller.name)+"\n  ")]),t._v(" "),e("div",{staticClass:"stars"},t._l(t.itemStarsClass,function(t,s){return e("span",{key:s,staticClass:"star-item",class:t})}),0),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"discounts-info-wrapper"},t._l(t.seller.supports,function(s){return e("div",{key:s.type,staticClass:"discounts-item"},[e("span",{class:{"decrease-icon":1==s.type,"discount-icon":2==s.type,"special-icon":3==s.type,"guarantee-icon":4==s.type}}),t._v(" "),e("p",{staticClass:"discounts-desc"},[t._v(t._s(s.description))])])}),0),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"merchant-announcement-wrapper"},[e("p",{staticClass:"merchant-announcement-content"},[t._v("\n      "+t._s(t.seller.bulletin)+"\n    ")])]),t._v(" "),e("span",{staticClass:"icon-close",on:{click:t.closeM}})])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"discounts-info-header"},[s("span",{staticClass:"border-bottom"}),this._v(" "),s("span",{staticClass:"discounts-info-title"},[this._v("优惠信息")]),this._v(" "),s("span",{staticClass:"border-bottom"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"discounts-info-header merchant-announcement-header"},[s("span",{staticClass:"border-bottom"}),this._v(" "),s("span",{staticClass:"discounts-info-title"},[this._v("商家公告")]),this._v(" "),s("span",{staticClass:"border-bottom"})])}]};var l={name:"ProductHeader",props:["seller"],data:function(){return{background:"",isShowMI:!1}},methods:{showMerchantInfo:function(){this.isShowMI=!0},handleClickClose:function(t){this.isShowMI=t}},watch:{seller:function(){this.background="url('"+this.seller.avatar+"')"}},components:{MerchantInfo:e("C7Lr")(o,c,!1,function(t){e("O4KX")},"data-v-749f887f",null).exports}},u={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"header"},[e("div",{staticClass:"content-wrapper"},[e("div",{staticClass:"avatar"},[e("img",{staticClass:"avatar-img",attrs:{src:t.seller.avatar}})]),t._v(" "),e("div",{staticClass:"shop-info"},[e("h1",{staticClass:"title"},[e("span",{staticClass:"title-icon"}),t._v("\n                "+t._s(t.seller.name)+"\n            ")]),t._v(" "),e("p",{staticClass:"desc"},[t._v("\n                "+t._s(t.seller.description)+"\n            ")]),t._v(" "),t._m(0)]),t._v(" "),e("div",{staticClass:"sell-count-wrapper"},[e("div",[e("span",{staticClass:"sell-count"},[t._v(t._s(t.seller.sellCount)+"个")]),t._v(" "),e("span",{staticClass:"icon-keyboard_arrow_right sell-count-icon"})])])]),t._v(" "),e("div",{staticClass:"bulletin-wrapper",on:{click:t.showMerchantInfo}},[e("span",{staticClass:"bulletin-wrapper-icon"}),t._v(" "),e("span",{staticClass:"bulletin"},[t._v(t._s(t.seller.bulletin))]),t._v(" "),e("span",{staticClass:"icon-keyboard_arrow_right bulletin-icon"})]),t._v(" "),e("div",{staticClass:"mask-bg",style:{background:t.background}}),t._v(" "),e("div",{staticClass:"mask"}),t._v(" "),e("transition",[e("merchant-info",{directives:[{name:"show",rawName:"v-show",value:t.isShowMI,expression:"isShowMI"}],attrs:{seller:t.seller},on:{closeMI:t.handleClickClose}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"price-info"},[s("span",{staticClass:"price-info-icon"}),this._v("\n                在线支付满28减5\n            ")])}]};var d=e("C7Lr")(l,u,!1,function(t){e("lJIk")},"data-v-404d4b44",null).exports,v={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("div",{staticClass:"tab border-bottom"},[s("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/commodity"}},[this._v("\n            商品\n        ")]),this._v(" "),s("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/comment"}},[this._v("\n            评价\n        ")]),this._v(" "),s("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/merchant"}},[this._v("\n            商家\n        ")])],1)])},staticRenderFns:[]};var f=e("C7Lr")({},v,!1,function(t){e("8jEZ")},"data-v-4f560c0f",null).exports,m=e("GRyI"),p=e("4YfN"),h=e.n(p),_=e("R4Sj"),C={name:"CarControl",props:["foods"],data:function(){return{}},mounted:function(){},watch:{},computed:{carcontrolShow:function(){var t=!0;return 0===this.foods.count&&(t=!1),t}},methods:h()({minus:function(){this.foods.count--,this.$store.commit("reFoods",this.foods)},add:function(t){this.foods.count++,this.$store.commit("addFoods",this.foods)}},Object(_.b)(["getFoods"]))},g={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"add-re"},[t.carcontrolShow?e("span",{staticClass:"icon-remove_circle_outline",on:{click:function(s){return s.stopPropagation(),t.minus(s)}}}):t._e(),t._v(" "),t.carcontrolShow?e("span",{staticClass:"add-count"},[t._v(t._s(t.foods.count))]):t._e(),t._v(" "),e("span",{staticClass:"icon-add_circle",on:{click:function(s){return s.stopPropagation(),t.add(s)}}})])},staticRenderFns:[]};var y=e("C7Lr")(C,g,!1,function(t){e("jZg1")},"data-v-0770983a",null).exports,w={name:"AllCount",props:["seller"],data:function(){return{isShowCarContent:!1,flag:!0,clickCar:""}},computed:{carCommodity:function(){return this.$store.state.carRes},showCountBox:function(){return this.$store.getters.allCount}},methods:{ShowCarContent:function(){this.flag?(this.isShowCarContent=!0,this.clickCar="clickCar",this.flag=!1):(this.isShowCarContent=!1,this.flag=!0,this.clickCar="")},initializeSceoll:function(){var t=this;this.scroll?this.$nextTick(function(){t.scroll.refresh()}):this.scroll=new m.a(this.$refs.carScroll,{click:!0})},empty:function(){this.$store.commit("emptyFoods")}},mounted:function(){var t=this;this.$nextTick(function(){t.scroll=new m.a(t.$refs.carScroll,{click:!0}),t.initializeSceoll()})},components:{CarControl:y}},b={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"car"},[e("div",{staticClass:"car-left"},[e("div",{staticClass:"car-icon-wrapper",on:{click:t.ShowCarContent}},[e("i",{staticClass:"car-icon icon-shopping_cart",class:t.clickCar}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.showCountBox,expression:"showCountBox"}],staticClass:"ball",attrs:{id:"car"}},[t._v(t._s(this.$store.getters.allCount))])]),t._v(" "),e("div",{staticClass:"price border-right"},[t._v("\n            ￥"+t._s(this.$store.getters.allPrice)+"\n        ")]),t._v(" "),e("div",{staticClass:"extra"},[t._v("\n            另需配送费￥"+t._s(t.seller.deliveryPrice)+"\n        ")])]),t._v(" "),e("div",{staticClass:"car-right"},[e("div",{staticClass:"pay",class:{enough:0!==t.seller.minPrice}},[t._v("\n            ￥"+t._s(t.seller.minPrice)+"元起配送\n        ")])]),t._v(" "),e("transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowCarContent,expression:"isShowCarContent"}],staticClass:"car-foods-wrapper"},[e("div",{staticClass:"car-foods"},[e("div",{staticClass:"car-foods-header"},[e("span",{staticClass:"left"},[t._v("购物车")]),t._v(" "),e("span",{staticClass:"right",on:{click:t.empty}},[t._v("清空")])]),t._v(" "),e("div",{ref:"carScroll",staticClass:"car-scroll"},[e("ul",{staticClass:"foods-wrapper"},t._l(t.carCommodity,function(s,a){return e("li",{key:a,staticClass:"foods-item"},[t._v("\n                            "+t._s(s.name)+"\n                            "),e("div",{staticClass:"right"},[e("div",{staticClass:"yuan"},[e("div",{staticClass:"yuan-right"},[t._v("\n                                        ￥\n                                        "),e("span",{staticClass:"money"},[t._v(t._s(s.price))])])]),t._v(" "),e("div",{staticClass:"car-control"},[e("div",[e("car-control",{attrs:{foods:s}})],1)])])])}),0)])])])])],1)},staticRenderFns:[]};var k=e("C7Lr")(w,b,!1,function(t){e("f/Kp")},"data-v-5191db0f",null).exports,S=e("aozt"),T=e.n(S),F={name:"Product",data:function(){return{seller:"",ratings:""}},methods:{getSellerInfo:function(){var t=this;T.a.get("/api/seller").then(function(s){0===s.data.erron&&(t.seller=s.data.data)})},getRatingsInfo:function(){var t=this;T.a.get("/api/ratings").then(function(s){0===s.data.erron&&(t.ratings=s.data.data)})}},mounted:function(){this.getSellerInfo(),this.getRatingsInfo()},components:{ProductHeader:d,ProductTab:f,AllCount:k}},x={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"product"},[s("product-header",{attrs:{seller:this.seller}}),this._v(" "),s("product-tab"),this._v(" "),s("div",{staticClass:"goods"},[s("transition",{attrs:{mode:"out-in"}},[s("router-view")],1)],1),this._v(" "),s("div",{staticClass:"footer"},[s("all-count",{attrs:{seller:this.seller}})],1)],1)},staticRenderFns:[]};var M=e("C7Lr")(F,x,!1,function(t){e("PMWm")},"data-v-1e70ad42",null).exports,$={name:"commodityinfo",props:["food"],data:function(){return{isFoodShow:!1,cur:!1,commentType:"all",ballFlag:!1}},methods:{toCar:function(){this.food.count++,this.$store.commit("addFoods",this.food),this.ballFlag=!0},show:function(){this.isFoodShow=!0},hide:function(){this.isFoodShow=!1},showOnly:function(){this.cur?this.cur=!1:this.cur=!0},changeCommentTypeAll:function(){this.commentType="all"},changeCommentTypeRecommend:function(){this.commentType="recommend"},changeCommentTypeTaunt:function(){this.commentType="taunt"},beforeEnter:function(t){t.style.transform="translate(0,0)",t.style.opacity=0},enter:function(t,s){var e=this.$refs.ball.getBoundingClientRect(),a=document.getElementById("car").getBoundingClientRect();if(0===a.left){var i=42-e.left,n=680-e.top;t.style.transform="translate("+i+"px,"+n+"px)",t.style.opacity=1,t.style.transition="all 0.8s cubic-bezier(.14,.72,.83,.67)"}else{var r=a.left-e.left,o=a.top-e.top;t.style.opacity=1,t.style.transform="translate("+r+"px,"+o+"px)",t.style.transition="all 0.8s cubic-bezier(.14,.72,.83,.67)"}s()},afterEnter:function(t){this.ballFlag=!1}},computed:{all:function(){if(this.food)return this.food.ratings.length},recommend:function(){if(this.food)return this.food.ratings.filter(function(t){return 0===t.rateType}).length},taunt:function(){if(this.food)return this.food.ratings.filter(function(t){return 1===t.rateType}).length},filterComments:function(){switch(this.commentType){case"recommend":return this.food&&this.cur?this.food.ratings.filter(function(t){return 0===t.rateType}).filter(function(t){return""!==t.text}):this.food.ratings.filter(function(t){return 0===t.rateType});case"taunt":return this.food&&this.cur?this.food.ratings.filter(function(t){return 1===t.rateType}).filter(function(t){return""!==t.text}):this.food.ratings.filter(function(t){return 1===t.rateType});default:return this.food&&this.cur?this.food.ratings.filter(function(t){return""!==t.text}):this.food.ratings}}},mounted:function(){this.scroll=new m.a(this.$refs.wrapper,{click:!0})},filters:{formatTime:function(t){var s=new Date(t);return s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate()+" "+s.getHours()+":"+s.getMinutes()+":"+s.getSeconds()}}},I={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isFoodShow,expression:"isFoodShow"}],ref:"wrapper",staticClass:"food"},[e("div",[e("div",{staticClass:"commodity-img-wrapper"},[e("span",{staticClass:"icon-arrow_lift",on:{click:t.hide}}),t._v(" "),e("img",{staticClass:"food-img",attrs:{src:t.food.image}})]),t._v(" "),e("div",{staticClass:"food-info"},[e("h1",{staticClass:"food-title"},[t._v(t._s(t.food.name))]),t._v(" "),e("span",{staticClass:"item-sell-count"},[t._v("月售"+t._s(t.food.sellCount)+"碗")]),t._v(" "),e("span",{staticClass:"item-sell-comment"},[t._v("好评率"+t._s(t.food.rating)+"%")]),t._v(" "),e("div",{staticClass:"item-price-wrapper"},[e("span",{staticClass:"item-price-now"},[t._v("￥"+t._s(t.food.price))]),t._v(" "),e("span",{staticClass:"item-price-old"},[t._v("￥"+t._s(t.food.oldPrice))]),t._v(" "),e("div",{staticClass:"addToShopCar",on:{click:t.toCar}},[t._v("\n            加入购物车\n          ")]),t._v(" "),e("transition",{attrs:{name:"fade"},on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.ballFlag,expression:"ballFlag"}],ref:"ball",staticClass:"ball"})])],1)]),t._v(" "),e("div",{staticClass:"color-wall"}),t._v(" "),e("div",{staticClass:"food-introduce"},[e("h2",{staticClass:"food-introduce-title"},[t._v("商品介绍")]),t._v(" "),e("p",{staticClass:"food-introduce-content"},[t._v(t._s(t.food.info))])]),t._v(" "),e("div",{staticClass:"color-wall"}),t._v(" "),e("div",{staticClass:"food-comment"},[e("h2",{staticClass:"food-comment-title"},[t._v("商品评价")]),t._v(" "),e("div",{staticClass:"btn-wrapper"},[e("div",{staticClass:"btn-item all",class:{on:"all"==t.commentType},on:{click:t.changeCommentTypeAll}},[t._v("全部"),e("span",{staticClass:"click-count"},[t._v(t._s(t.all))])]),t._v(" "),e("div",{staticClass:"btn-item recommend",class:{on:"recommend"==t.commentType},on:{click:t.changeCommentTypeRecommend}},[t._v("推荐"),e("span",{staticClass:"click-count"},[t._v(t._s(t.recommend))])]),t._v(" "),e("div",{staticClass:"btn-item taunt",class:{on:"taunt"==t.commentType},on:{click:t.changeCommentTypeTaunt}},[t._v("吐槽"),e("span",{staticClass:"click-count"},[t._v(t._s(t.taunt))])])]),t._v(" "),e("div",{staticClass:"select-comment-wrapper",on:{click:t.showOnly}},[e("span",{staticClass:"comment-select-icon icon-check_circle",class:{on:t.cur}}),t._v(" "),e("p",{staticClass:"select-comment"},[t._v("只看有内容的评价")])])]),t._v(" "),e("div",{staticClass:"comment-wrapper"},t._l(t.filterComments,function(s,a){return e("div",{key:a,staticClass:"comment-item"},[e("div",{staticClass:"comment-haed"},[e("div",[e("span",{staticClass:"comment-time"},[t._v(t._s(t._f("formatTime")(s.rateTime)))])]),t._v(" "),e("div",{staticClass:"comment-user"},[e("span",{staticClass:"user"},[t._v(t._s(s.username))]),t._v(" "),e("span",{staticClass:"user-avatar"},[e("img",{attrs:{src:s.avatar}})])])]),t._v(" "),e("div",{staticClass:"comment-content-wrapper"},[e("span",{class:{"icon-thumb_up":0==s.rateType,"icon-thumb_down":1==s.rateType}}),t._v(" "),e("p",{staticClass:"comment-content"},[t._v(t._s(s.text))])])])}),0)])])])},staticRenderFns:[]};var R={name:"Commodity",data:function(){return{goods:"",active:0,food:""}},components:{CarControl:y,CommodityInfo:e("C7Lr")($,I,!1,function(t){e("kk3x")},"data-v-5748d127",null).exports},methods:{getGoodsInfo:function(){var t=this;T.a.get("/api/goods").then(function(s){if(0===s.data.erron){var e;e=s.data.data,t.goods=e,t.goods.forEach(function(s,e){s.foods.forEach(function(s,a){s.id="0"+a+e,t.$set(s,"count",0)})})}})},toggle:function(t,s){this.active=t;var e=s.target.innerText;this.commodityContentScroll.scrollToElement(this.$refs[e][0])},showFood:function(t,s){this.food=t,this.$refs.CommodityInfo.show()},initializeScroll:function(){var t=this;this.$nextTick(function(){t.commodityTabScroll||t.commodityContentScroll?(t.commodityTabScroll.refresh(),t.commodityTabScroll.refresh()):(t.commodityTabScroll=new m.a(t.$refs["commodity-tab-wrapper"],{click:!0}),t.commodityContentScroll=new m.a(t.$refs["commodity-content-wrapper"],{click:!0}))})}},computed:{},mounted:function(){this.commodityTabScroll=new m.a(this.$refs["commodity-tab-wrapper"],{click:!0}),this.commodityContentScroll=new m.a(this.$refs["commodity-content-wrapper"],{click:!0}),this.initializeScroll(),this.getGoodsInfo()},watch:{}},E={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"commodity"},[e("div",{ref:"commodity-tab-wrapper",staticClass:"commodity-tab"},[e("div",{staticStyle:{height:"120%"}},t._l(t.goods,function(s,a){return e("div",{key:a,staticClass:"commodity-tab-item border-bottom",class:{active:t.active===a},on:{click:function(s){return t.toggle(a,s)}}},[t._v("\n                "+t._s(s.name)+"\n            ")])}),0)]),t._v(" "),e("div",{ref:"commodity-content-wrapper",staticClass:"commodity-content"},[e("div",t._l(t.goods,function(s,a){return e("div",{key:a,staticClass:"commodity-content-item"},[e("div",{ref:s.name,refInFor:!0,staticClass:"item-title"},[t._v(t._s(s.name))]),t._v(" "),t._l(s.foods,function(s,a){return e("div",{key:a,staticClass:"item-info-wrapper",on:{click:function(e){t.showFood(s,e)}}},[e("img",{attrs:{src:s.icon,alt:""}}),t._v(" "),e("div",{staticClass:"item-info"},[e("p",{staticClass:"item--info-title"},[t._v(t._s(s.name))]),t._v(" "),e("p",{staticClass:"item-type"},[t._v(t._s(s.description))]),t._v(" "),e("span",{staticClass:"item-sell-count"},[t._v("月售"+t._s(s.sellCount)+"碗")]),t._v(" "),e("span",{staticClass:"item-sell-comment"},[t._v("好评率"+t._s(s.rating)+"%")]),t._v(" "),e("div",{staticClass:"item-price-wrapper"},[e("span",{staticClass:"item-price-now"},[t._v("￥"+t._s(s.price))]),t._v(" "),e("span",{staticClass:"item-price-old"},[t._v("￥"+t._s(s.oldPrice))])]),t._v(" "),e("div",{staticClass:"add-re-wrapper"},[e("car-control",{attrs:{foods:s}})],1)])])})],2)}),0)]),t._v(" "),e("commodity-info",{ref:"CommodityInfo",attrs:{food:t.food}})],1)},staticRenderFns:[]};var P=e("C7Lr")(R,E,!1,function(t){e("zibf")},"data-v-39fc31bf",null).exports,L={props:["stars"],name:"Star",computed:{CCommentStars:function(){for(var t=[],s=Math.floor(2*this.stars)/2,e=Math.floor(s),a=s%1!=0,i=0;i<e;i++)t.push("star-on");for(a&&t.push("star-half");t.length<5;)t.push("star-off");return t}}},j={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"stars"},this._l(this.CCommentStars,function(t,e){return s("span",{key:e,staticClass:"star-item",class:t})}),0)},staticRenderFns:[]};var z={name:"Comment",data:function(){return{seller:"",ratings:[],Sratings:[],cur:!1,visibility:"all"}},watch:{},components:{Star:e("C7Lr")(L,j,!1,function(t){e("fp3f")},"data-v-00349d92",null).exports},computed:{CserviceStars:function(){for(var t=[],s=Math.floor(2*this.seller.serviceScore)/2,e=Math.floor(s),a=s%1!=0,i=0;i<e;i++)t.push("star-on");for(a&&t.push("star-half");t.length<5;)t.push("star-off");return t},CfoodStars:function(){for(var t=[],s=Math.floor(2*this.seller.serviceScore)/2,e=Math.floor(s),a=s%1!=0,i=0;i<e;i++)t.push("star-on");for(a&&t.push("star-half");t.length<5;)t.push("star-off");return t},CCommentStars:function(t){for(var s=[],e=Math.floor(2*t)/2,a=Math.floor(e),i=e%1!=0,n=0;n<a;n++)s.push("star-on");for(i&&s.push("star-half");s.length<5;)s.push("star-off");return s},all:function(){return this.ratings.length},recommend:function(){var t=[];return this.ratings.forEach(function(s){0===s.rateType&&t.push(s)}),t.length},taunt:function(){var t=[];return this.ratings.forEach(function(s){1===s.rateType&&t.push(s)}),t.length},filterComments:function(){switch(this.visibility){case"taunt":return this.cur?this.ratings.filter(function(t){return 1===t.rateType}).filter(function(t){return""!==t.text}):this.ratings.filter(function(t){return 1===t.rateType});case"recommend":return this.cur?this.ratings.filter(function(t){return 0===t.rateType}).filter(function(t){return""!==t.text}):this.ratings.filter(function(t){return 0===t.rateType});default:return this.cur?this.ratings.filter(function(t){return""!==t.text}):this.ratings}}},methods:{getHash:function(){var t=this;setTimeout(function(){t.visibility=t.current},100)},getSellerInfo:function(){var t=this;T.a.get("/api/seller").then(function(s){0===s.data.erron&&(t.seller=s.data.data)})},getRatingsInfo:function(){var t=this;T.a.get("/api/ratings").then(function(s){0===s.data.erron&&(t.ratings=s.data.data,t.Sratings=t.ratings)})},showOnly:function(){this.cur?this.cur=!1:this.cur=!0}},mounted:function(){var t=this;this.visibility=this.current,this.getSellerInfo(),this.getRatingsInfo(),this.scroll=new m.a(this.$refs.wrapper,{click:!0}),setTimeout(function(){t.scroll.refresh()},500)},filters:{timestampFormat:function(t){var s=new Date(t);return s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate()+" "+s.getHours()+":"+s.getMinutes()}}},H={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"comment"},[e("div",{staticClass:"grade"},[e("div",{staticClass:"grade-left"},[e("p",{staticClass:"grade-count"},[t._v(t._s(t.seller.score))]),t._v(" "),e("p",{staticClass:"grade-type"},[t._v("综合评分")]),t._v(" "),e("p",{staticClass:"grade-info"},[t._v("高于周边商家"+t._s(t.seller.rankRate)+"%")])]),t._v(" "),e("div",{staticClass:"grade-right"},[e("div",{staticClass:"service-attitude"},[e("span",[t._v("服务态度")]),t._v(" "),e("div",{staticClass:"stars"},t._l(t.CserviceStars,function(t,s){return e("span",{key:s,staticClass:"star-item",class:t})}),0),t._v(" "),e("span",{staticClass:"service-attitude-score"},[t._v(t._s(t.seller.serviceScore))])]),t._v(" "),e("div",{staticClass:"commodity-grade"},[e("span",[t._v("商品评分")]),t._v(" "),e("div",{staticClass:"stars"},t._l(t.CfoodStars,function(t,s){return e("span",{key:s,staticClass:"star-item",class:t})}),0),t._v(" "),e("span",{staticClass:"commodity-grade-score"},[t._v(t._s(t.seller.foodScore))])]),t._v(" "),e("p",{staticClass:"delivery-time"},[e("span",[t._v("送达时间")]),t._v(" "),e("span",{staticClass:"time"},[t._v(t._s(t.seller.deliveryTime)+"分")])])])]),t._v(" "),e("div",{staticClass:"color-wall"}),t._v(" "),e("div",{staticClass:"food-comment"},[e("h2",{staticClass:"food-comment-title"},[t._v("商品评价")]),t._v(" "),e("div",{staticClass:"btn-wrapper"},[e("a",{staticClass:"btn-item all",class:{active:"all"==t.visibility},attrs:{href:"#/comment#/all"},on:{click:t.getHash}},[t._v("\n            全部\n            "),e("span",{staticClass:"click-count"},[t._v(t._s(t.all))])]),t._v(" "),e("a",{staticClass:"btn-item recommend",class:{active:"recommend"==t.visibility},attrs:{href:"#/comment#/recommend"},on:{click:t.getHash}},[t._v("\n            推荐\n            "),e("span",{staticClass:"click-count"},[t._v(t._s(t.recommend))])]),t._v(" "),e("a",{staticClass:"btn-item taunt",class:{active:"taunt"==t.visibility},attrs:{href:"#/comment#/taunt"},on:{click:t.getHash}},[t._v("\n            吐槽\n            "),e("span",{staticClass:"click-count"},[t._v(t._s(t.taunt))])])]),t._v(" "),e("div",{staticClass:"select-comment-wrapper",on:{click:t.showOnly}},[e("span",{staticClass:"comment-select-icon icon-check_circle",class:{on:t.cur}}),t._v(" "),e("p",{staticClass:"select-comment"},[t._v("只看有内容的评价")])])]),t._v(" "),e("div",{ref:"wrapper",staticClass:"user-comment-wrapper"},[e("div",t._l(t.filterComments,function(s,a){return e("div",{key:a,staticClass:"user-comment-item"},[e("div",{staticClass:"user-comment-msg"},[e("div",{staticClass:"user-avatar-wrapper"},[e("img",{attrs:{src:s.avatar}})]),t._v(" "),e("div",{staticClass:"user-msg"},[e("span",{staticClass:"user-name"},[t._v(t._s(s.username))]),t._v(" "),e("div",{staticClass:"star-time"},[e("star",{attrs:{stars:s.score}}),t._v(" "),e("span",{staticClass:"arrive-time"},[t._v(t._s(s.deliveryTime)+"分钟送达")])],1)]),t._v(" "),e("div",{staticClass:"comment-time-wrapper"},[e("p",{staticClass:"comment-time"},[t._v(t._s(t._f("timestampFormat")(s.rateTime)))])])]),t._v(" "),e("p",{staticClass:"user-comment"},[t._v(t._s(s.text))]),t._v(" "),e("div",{staticClass:"food-type-wrapper"},[e("span",{staticClass:"praise",class:{"icon-thumb_up":0==s.rateType,"icon-thumb_down":1==s.rateType}}),t._v(" "),e("div",{staticClass:"food-type"},t._l(s.recommend,function(s,a){return e("div",{key:a,staticClass:"food-type-item"},[t._v("\n                        "+t._s(s)+"\n                        ")])}),0)])])}),0)])])},staticRenderFns:[]};var O=e("C7Lr")(z,H,!1,function(t){e("Os6a")},"data-v-7825c592",null).exports,A={name:"Mechant",data:function(){return{seller:"",goods:"",favorite:"未搜藏",iconFavorite:"icon-favorite",isChoose:!1}},computed:{CStars:function(){for(var t=[],s=Math.floor(2*this.seller.score)/2,e=Math.floor(s),a=s%1!=0,i=0;i<e;i++)t.push("star-on");for(a&&t.push("star-half");t.length<5;)t.push("star-off");return t}},methods:{getMerchantInfo:function(){var t=this;T.a.get("/api/seller").then(function(s){0===s.data.erron&&(t.seller=s.data.data,t.$refs.ul.style.width=2.4*t.seller.pics.length+.12*(t.seller.pics.length-1)+.36+"rem")}),T.a.get("/api/goods").then(function(s){0===s.data.erron&&(t.goods=s.data.data)})},initializeScroll:function(){var t=this;this.$nextTick(function(){t.imgScroll||(t.imgScroll=new m.a(t.$refs["img-wrapper"],{click:!0,scrollX:!0,scrollY:!0}))})},handleCollection:function(){this.isChoose?(this.favorite="未搜藏",this.iconFavorite="icon-favorite",this.isChoose=!1):(this.favorite="已搜藏",this.iconFavorite=this.iconFavorite+" choose",this.isChoose=!0)}},mounted:function(){var t=this;this.getMerchantInfo(),this.scroll=new m.a(this.$refs.wrapper,{click:!0}),this.$nextTick(function(){t.initializeScroll()})}},N={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"wrapper",staticClass:"merchant"},[e("div",[e("div",{staticClass:"merchant-info"},[e("div",{staticClass:"merchant-info-top"},[e("div",{staticClass:"merchant-info-top-left"},[e("p",{staticClass:"merchant-name"},[t._v(t._s(t.seller.name))]),t._v(" "),e("div",{staticClass:"star-sellCount-wrapper"},[e("div",{staticClass:"stars"},t._l(t.CStars,function(t,s){return e("span",{key:s,staticClass:"star-item",class:t})}),0),t._v(" "),e("p",{staticClass:"text"},[t._v("(662)")]),t._v(" "),e("p",{staticClass:"text-count"},[t._v("月售930单")])])]),t._v(" "),e("div",{staticClass:"merchant-info-top-right"},[e("div",{staticClass:"collect-wrapper",on:{click:t.handleCollection}},[e("span",{class:t.iconFavorite}),t._v(" "),e("p",{staticClass:"collect"},[t._v(t._s(t.favorite))])])])]),t._v(" "),e("div",{staticClass:"merchant-info-bottom"},[e("div",{staticClass:"send-price-wrapper"},[e("span",{staticClass:"send-price-title"},[t._v("起送价")]),t._v(" "),e("div",{staticClass:"price-wrapper"},[e("span",{staticClass:"price"},[t._v(t._s(t.seller.minPrice))]),t._v("元\n          ")])]),t._v(" "),e("div",{staticClass:"Merchant-shipping-wrapper"},[e("span",{staticClass:"Merchant-shipping-title"},[t._v("商家配送")]),t._v(" "),e("div",{staticClass:"shipping-wrapper"},[e("span",{staticClass:"price"},[t._v(t._s(t.seller.deliveryPrice))]),t._v("元\n          ")])]),t._v(" "),e("div",{staticClass:"delivery-time-wrapper"},[e("span",{staticClass:"delivery-time-title"},[t._v("平均配送时间")]),t._v(" "),e("div",{staticClass:"time-wrapper"},[e("span",{staticClass:"time"},[t._v(t._s(t.seller.deliveryTime))]),t._v("分钟\n          ")])])])]),t._v(" "),e("div",{staticClass:"color-wall"}),t._v(" "),e("div",{staticClass:"announcement-wrapper"},[e("span",{staticClass:"title"},[t._v("公告与活动")]),t._v(" "),e("p",{staticClass:"announcement"},[t._v("\n        "+t._s(t.seller.bulletin)+"\n      ")]),t._v(" "),t._l(t.seller.supports,function(s,a){return e("div",{key:a,staticClass:"activity-item"},[e("span",{staticClass:"icon-type",class:{type1:0==s.type,type2:1==s.type,type4:2==s.type,type5:3==s.type,type3:4==s.type}}),t._v(" "),e("p",{staticClass:"activity"},[t._v(t._s(s.description))])])})],2),t._v(" "),e("div",{staticClass:"color-wall"}),t._v(" "),e("div",{staticClass:"live-action-wrapper"},[e("span",{staticClass:"title"},[t._v("商家实景")]),t._v(" "),e("div",{ref:"img-wrapper"},[e("ul",{ref:"ul",staticClass:"img-wrapper"},t._l(t.seller.pics,function(t,s){return e("li",{key:s,staticClass:"img-item"},[e("img",{staticClass:"img",attrs:{src:t,alt:""}})])}),0)])]),t._v(" "),e("div",{staticClass:"color-wall"}),t._v(" "),e("div",{staticClass:"merchant-msg-wrapper"},[e("p",{staticClass:"title"},[t._v("商家信息")]),t._v(" "),e("ul",{staticClass:"merchant-msg"},t._l(t.seller.infos,function(s,a){return e("li",{key:a,staticClass:"msg-item"},[t._v("\n          "+t._s(s)+"\n        ")])}),0)])])])},staticRenderFns:[]};var Y=e("C7Lr")(A,N,!1,function(t){e("9Yhi")},"data-v-6ca09990",null).exports;a.a.use(r.a);var B=new r.a({routes:[{path:"/",name:"Product",component:M,children:[{path:"commodity",name:"Commodity",component:P},{path:"comment",name:"Comment",component:O},{path:"merchant",name:"Merchant",component:Y}],redirect:"commodity"}],linkActiveClass:"myactive"});a.a.use(_.a);var D=new _.a.Store({state:{carRes:[]},mutations:{addFoods:function(t,s){var e=!1;t.carRes.some(function(t){if(t.id===s.id)return t.count=parseInt(s.count),e=!0,!0}),e||t.carRes.push(s)},reFoods:function(t,s){0===s.count?t.carRes.some(function(e,a){if(e.id===s.id)return t.carRes.splice(a,1),!0}):t.carRes.some(function(t,e){if(t.id===s.id)return t.count=s.count,!0})},emptyFoods:function(t){t.carRes.forEach(function(t){t.count=0}),t.carRes=[]}},getters:{allCount:function(t){var s=0;return t.carRes.forEach(function(t){s+=t.count}),s},allPrice:function(t){var s=0;return t.carRes.forEach(function(t){s+=t.price*t.count}),s}}});e("9n10"),e("M6Sr"),e("jYjM");function K(t){""===window.location.hash.substr(11)?a.a.prototype.current="all":a.a.prototype.current=window.location.hash.substr(11)}a.a.config.productionTip=!1,K(),window.onhashchange=K,new a.a({el:"#app",router:B,data:{aaa:""},components:{App:n},template:"<App/>",store:D})},O4KX:function(t,s){},Os6a:function(t,s){},PMWm:function(t,s){},"f/Kp":function(t,s){},fp3f:function(t,s){},jYjM:function(t,s){},jZg1:function(t,s){},kk3x:function(t,s){},lJIk:function(t,s){},zibf:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.b7e812541069d89a6eca.js.map